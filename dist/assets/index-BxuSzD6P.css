*{margin:0;padding:0;box-sizing:border-box}:root{font-family:Inter,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,sans-serif;line-height:1.5;font-weight:400;color:#1a1a1a;background-color:#fff;--primary-color: #007AFF;--secondary-color: #5856D6;--success-color: #34C759;--danger-color: #FF3B30;--warning-color: #FF9500;--info-color: #5AC8FA;--light-color: #F2F2F7;--dark-color: #1C1C1E;--muted-color: #8E8E93;--border-radius: 12px;--shadow: 0 2px 10px rgba(0, 0, 0, .1);--transition: all .3s ease}body{margin:0;font-family:inherit;background-color:var(--light-color);min-height:100vh;overflow-x:hidden}.container{max-width:100%;padding:0 16px;margin:0 auto}@media (min-width: 768px){.container{max-width:400px}}.btn{display:inline-flex;align-items:center;justify-content:center;padding:14px 20px;border:none;border-radius:var(--border-radius);font-size:16px;font-weight:600;text-decoration:none;cursor:pointer;transition:var(--transition);min-height:48px;gap:8px}.btn-primary{background-color:var(--primary-color);color:#fff}.btn-primary:hover{background-color:#0056b3;transform:translateY(-1px)}.btn-secondary{background-color:var(--secondary-color);color:#fff}.btn-outline{background-color:transparent;border:2px solid var(--primary-color);color:var(--primary-color)}.btn-ghost{background-color:transparent;color:var(--primary-color);padding:8px 12px;min-height:auto}.btn:disabled{opacity:.6;cursor:not-allowed;transform:none}.form-group{margin-bottom:20px}.form-label{display:block;margin-bottom:8px;font-weight:500;color:var(--dark-color)}.form-input{width:100%;padding:14px 16px;border:2px solid #E5E5E7;border-radius:var(--border-radius);font-size:16px;transition:var(--transition);background-color:#fff}.form-input:focus{outline:none;border-color:var(--primary-color);box-shadow:0 0 0 4px #007aff1a}.form-input.error{border-color:var(--danger-color)}.card{background:#fff;border-radius:var(--border-radius);box-shadow:var(--shadow);overflow:hidden}.card-header{padding:20px;border-bottom:1px solid #E5E5E7}.card-body{padding:20px}.text-center{text-align:center}.text-muted{color:var(--muted-color)}.mb-3{margin-bottom:1rem}.mb-4{margin-bottom:1.5rem}.mt-3{margin-top:1rem}.mt-4{margin-top:1.5rem}.loading{display:inline-block;width:20px;height:20px;border:2px solid #f3f3f3;border-top:2px solid var(--primary-color);border-radius:50%;animation:spin 1s linear infinite}@keyframes spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.error-boundary{min-height:100vh;display:flex;align-items:center;justify-content:center;padding:20px;background-color:var(--light-color)}.error-content{background:#fff;border-radius:var(--border-radius);box-shadow:var(--shadow);padding:40px;text-align:center;max-width:500px;width:100%}.error-content h2{color:var(--danger-color);margin-bottom:16px;font-size:24px}.error-content p{color:var(--muted-color);margin-bottom:24px;line-height:1.5}.error-actions{display:flex;gap:12px;justify-content:center;margin-bottom:20px}.error-details{text-align:left;margin-top:20px;padding:16px;background-color:var(--light-color);border-radius:8px;border:1px solid #E5E5E7}.error-details summary{cursor:pointer;font-weight:500;color:var(--muted-color);margin-bottom:12px}.error-details pre{font-size:12px;color:var(--danger-color);white-space:pre-wrap;word-break:break-word;margin:0}.webhook-status{position:fixed;top:20px;right:20px;z-index:1000}.status-indicator{display:flex;align-items:center;gap:6px;padding:6px 12px;border-radius:20px;color:#fff;font-size:11px;font-weight:500;box-shadow:0 2px 8px #00000026;cursor:help;animation:fadeIn .3s ease-out}.status-text{display:none}@media (min-width: 768px){.status-text{display:inline}}@keyframes fadeIn{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.connection-status{position:fixed;top:20px;left:20px;z-index:1000}.status-badge{display:flex;align-items:center;gap:6px;padding:8px 12px;border-radius:20px;color:#fff;font-size:12px;font-weight:500;box-shadow:0 2px 8px #00000026;cursor:help;animation:fadeIn .3s ease-out;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.status-label{display:none}@media (min-width: 768px){.status-label{display:inline}}.login-container{min-height:100vh;display:flex;align-items:center;justify-content:center;padding:20px;background:linear-gradient(135deg,#667eea,#764ba2)}.login-card{background:#fff;border-radius:20px;padding:40px 30px;width:100%;max-width:400px;box-shadow:0 20px 60px #00000026;animation:slideUp .6s ease-out}@keyframes slideUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}.login-logo{text-align:center;margin-bottom:40px}.logo-icon{margin-bottom:16px;animation:bounce 1s ease-out}@keyframes bounce{0%,20%,53%,80%,to{transform:translateY(0)}40%,43%{transform:translateY(-10px)}70%{transform:translateY(-5px)}}.logo-text{font-size:32px;font-weight:700;color:#1a1a1a;margin-bottom:8px;background:linear-gradient(135deg,#007aff,#5856d6);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.logo-subtitle{color:#8e8e93;font-size:14px;font-weight:500}.login-form{margin-bottom:30px}.input-group{position:relative;display:flex;align-items:center}.input-icon{position:absolute;left:16px;color:#8e8e93;z-index:1}.form-input{padding-left:48px!important;padding-right:48px!important}.password-toggle{position:absolute;right:16px;background:none;border:none;color:#8e8e93;cursor:pointer;padding:0;display:flex;align-items:center;z-index:1;transition:color .2s ease}.password-toggle:hover{color:#007aff}.login-button{width:100%;margin-bottom:16px;font-size:18px;font-weight:600;box-shadow:0 4px 12px #007aff4d;transition:all .3s ease}.login-button:hover:not(:disabled){box-shadow:0 6px 20px #007aff66}.forgot-password-btn{width:100%;font-size:14px}.error-message{display:flex;align-items:center;gap:8px;background-color:#fff5f5;color:#ff3b30;padding:12px 16px;border-radius:8px;margin-bottom:20px;font-size:14px;border-left:4px solid #FF3B30}.warning-message{display:flex;align-items:center;gap:8px;background-color:#fff8e1;color:#ff9500;padding:12px 16px;border-radius:8px;margin-bottom:20px;font-size:14px;border-left:4px solid #FF9500}.field-error{color:#ff3b30;font-size:12px;margin-top:4px;display:block}.success-message{background-color:#f0f9f0;color:#34c759;padding:12px 16px;border-radius:8px;margin-bottom:20px;font-size:14px;border-left:4px solid #34C759}.demo-credentials{text-align:center;padding:20px;background-color:#f8f9fa;border-radius:12px;border:1px dashed #E5E5E7}.demo-title{font-size:12px;color:#8e8e93;margin-bottom:12px;font-weight:500}.demo-account{font-size:13px;color:#5856d6;margin-bottom:4px;font-family:Monaco,Menlo,monospace}.demo-subtitle{font-size:11px;color:#007aff;margin-bottom:12px;font-weight:500}.demo-info{margin-bottom:16px;padding:8px 0;border-top:1px dashed #E5E5E7;border-bottom:1px dashed #E5E5E7}.demo-info p{font-size:11px;color:#8e8e93;margin:2px 0;line-height:1.3}.demo-fallback{margin-top:12px}.demo-fallback .demo-title{font-size:11px;margin-bottom:8px}.demo-accounts-grid{display:grid;grid-template-columns:1fr;gap:12px;margin-bottom:16px}@media (min-width: 480px){.demo-accounts-grid{grid-template-columns:1fr 1fr}}.demo-account-card{background:#007aff0d;border:1px solid rgba(0,122,255,.1);border-radius:8px;padding:12px;text-align:center}.demo-account-name{font-size:12px;font-weight:600;color:#1a1a1a;margin-bottom:6px}.demo-account-card .demo-account{margin:0;font-size:12px}.demo-note{text-align:center;padding:8px;background:#ff95000d;border-radius:6px;border:1px solid rgba(255,149,0,.1)}.demo-note small{color:#ff9500;font-weight:500}.modal-overlay{position:fixed;inset:0;background-color:#00000080;display:flex;align-items:center;justify-content:center;z-index:1000;padding:20px}.modal-content{background:#fff;border-radius:16px;padding:30px;width:100%;max-width:400px;animation:modalSlideUp .3s ease-out}@keyframes modalSlideUp{0%{opacity:0;transform:translateY(20px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}.modal-content h3{margin-bottom:16px;color:#1a1a1a;font-size:20px;font-weight:600}.modal-content p{margin-bottom:20px;color:#666;font-size:14px;line-height:1.5}.modal-actions{display:flex;gap:12px;margin-top:20px}.modal-actions .btn{flex:1}@media (max-width: 480px){.login-container{padding:16px}.login-card{padding:30px 20px;border-radius:16px}.logo-text{font-size:28px}.modal-content{padding:24px 20px}}.form-input:focus{transform:translateY(-1px)}.btn:focus-visible{outline:2px solid #007AFF;outline-offset:2px}.login-button:disabled{cursor:not-allowed;transform:none}.webhook-debugger-overlay{position:fixed;inset:0;background:#000000b3;display:flex;align-items:center;justify-content:center;z-index:9999;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.webhook-debugger{background:#fff;border-radius:12px;width:90%;max-width:800px;max-height:90vh;overflow:hidden;box-shadow:0 20px 40px #0003;animation:slideIn .3s ease-out}.webhook-debugger-header{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:1rem 1.5rem;display:flex;justify-content:space-between;align-items:center}.webhook-debugger-header h3{margin:0;font-size:1.2rem;font-weight:600}.close-btn{background:none;border:none;color:#fff;font-size:1.5rem;cursor:pointer;padding:0;width:30px;height:30px;border-radius:50%;display:flex;align-items:center;justify-content:center;transition:background-color .2s}.webhook-debugger-content{padding:1.5rem;max-height:calc(90vh - 80px);overflow-y:auto}.webhook-info{background:#f8f9fa;padding:1rem;border-radius:8px;margin-bottom:1.5rem;border-left:4px solid #667eea}.webhook-info strong{color:#333;display:block;margin-bottom:.5rem}.webhook-info code{background:#e9ecef;padding:.5rem;border-radius:4px;font-family:Monaco,Menlo,Ubuntu Mono,monospace;font-size:.85rem;word-break:break-all;display:block;color:#495057}.webhook-actions{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:1rem;margin-bottom:1.5rem}.test-btn{padding:.75rem 1.5rem;border:none;border-radius:8px;cursor:pointer;font-weight:500;transition:all .2s;display:flex;align-items:center;gap:.5rem;font-size:.9rem}.test-btn:disabled{opacity:.6;cursor:not-allowed}.test-btn.primary{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff}.test-btn.primary:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 4px 12px #667eea66}.test-btn.secondary{background:linear-gradient(135deg,#f093fb,#f5576c);color:#fff}.test-btn.secondary:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 4px 12px #f5576c66}.test-btn.tertiary{background:linear-gradient(135deg,#4facfe,#00f2fe);color:#fff}.test-btn.tertiary:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 4px 12px #4facfe66}.test-btn.debug{background:linear-gradient(135deg,#ff9a9e,#fecfef);color:#333}.test-btn.debug:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 4px 12px #ff9a9e66}.test-btn.markdown{background:linear-gradient(135deg,#a8edea,#fed6e3);color:#333}.test-btn.markdown:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 4px 12px #a8edea66}.test-btn.format{background:linear-gradient(135deg,#ffecd2,#fcb69f);color:#333}.test-btn.format:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 4px 12px #fcb69f66}.test-btn.clear{background:#6c757d;color:#fff}.test-btn.clear:hover:not(:disabled){background:#5a6268;transform:translateY(-2px)}.test-result{padding:1rem;border-radius:8px;margin-bottom:1.5rem}.test-result.success{background:#d4edda;border-left:4px solid #28a745;color:#155724}.test-result.error{background:#f8d7da;border-left:4px solid #dc3545;color:#721c24}.test-result h4{margin:0 0 .5rem;font-size:1rem}.test-result p{margin:0;font-size:.9rem}.webhook-logs{border-top:1px solid #e9ecef;padding-top:1.5rem}.webhook-logs h4{margin:0 0 1rem;color:#333;font-size:1rem}.logs-container{background:#f8f9fa;border:1px solid #e9ecef;border-radius:8px;max-height:300px;overflow-y:auto;padding:1rem}.no-logs{color:#6c757d;font-style:italic;text-align:center;margin:0;padding:2rem}.log-entry{font-family:Monaco,Menlo,Ubuntu Mono,monospace;font-size:.8rem;line-height:1.4;margin-bottom:.5rem;padding:.25rem 0;color:#495057;white-space:pre-wrap;word-break:break-word}.log-entry:last-child{margin-bottom:0}.logs-container::-webkit-scrollbar{width:6px}.logs-container::-webkit-scrollbar-track{background:#f1f1f1;border-radius:3px}.logs-container::-webkit-scrollbar-thumb{background:#c1c1c1;border-radius:3px}.logs-container::-webkit-scrollbar-thumb:hover{background:#a8a8a8}@media (max-width: 768px){.webhook-debugger{width:95%;margin:1rem}.webhook-actions{flex-direction:column}.test-btn{width:100%;justify-content:center}.webhook-info code{font-size:.75rem}}.markdown-content{font-size:14px;line-height:1.6;color:#1a1a1a}.markdown-content.ai{color:#1a1a1a}.markdown-content.user{color:#fff}.markdown-p{margin:0 0 1em}.markdown-p:last-child{margin-bottom:0}.markdown-h1,.markdown-h2,.markdown-h3,.markdown-h4,.markdown-h5,.markdown-h6{margin:1.5em 0 .5em;font-weight:600;line-height:1.3}.markdown-h1:first-child,.markdown-h2:first-child,.markdown-h3:first-child,.markdown-h4:first-child,.markdown-h5:first-child,.markdown-h6:first-child{margin-top:0}.markdown-h1{font-size:1.5em}.markdown-h2{font-size:1.3em}.markdown-h3{font-size:1.1em}.markdown-h4{font-size:1em}.markdown-h5{font-size:.9em}.markdown-h6{font-size:.8em}.code-block{margin:1em 0;border-radius:8px;overflow:hidden;background:#f8f9fa;border:1px solid #e9ecef}.markdown-content.user .code-block{background:#ffffff1a;border-color:#fff3}.code-header{background:#e9ecef;padding:.5rem 1rem;font-size:.75rem;font-weight:500;color:#6c757d;border-bottom:1px solid #dee2e6}.markdown-content.user .code-header{background:#ffffff1a;color:#fffc;border-bottom-color:#fff3}.code-language{text-transform:uppercase;letter-spacing:.5px}.code-content{margin:0;padding:1rem;background:#f8f9fa;font-family:Monaco,Menlo,Ubuntu Mono,monospace;font-size:.85em;line-height:1.5;overflow-x:auto}.markdown-content.user .code-content{background:#ffffff0d;color:#ffffffe6}.code-content code{background:none;padding:0;border-radius:0;font-size:inherit}.inline-code{background:#f1f3f4;padding:.2em .4em;border-radius:4px;font-family:Monaco,Menlo,Ubuntu Mono,monospace;font-size:.9em;color:#d73a49}.markdown-content.user .inline-code{background:#fff3;color:#ffffffe6}.markdown-link{color:#007aff;text-decoration:none;border-bottom:1px solid transparent;transition:border-color .2s}.markdown-link:hover{border-bottom-color:#007aff}.markdown-content.user .markdown-link{color:#ffffffe6;border-bottom-color:transparent}.markdown-content.user .markdown-link:hover{border-bottom-color:#ffffffb3}.markdown-ul,.markdown-ol{margin:1em 0;padding-left:1.5em}.markdown-ul:first-child,.markdown-ol:first-child{margin-top:0}.markdown-ul:last-child,.markdown-ol:last-child{margin-bottom:0}.markdown-li{margin:.5em 0}.markdown-li:first-child{margin-top:0}.markdown-li:last-child{margin-bottom:0}.markdown-ul{list-style-type:none}.markdown-ul .markdown-li:before{content:"•";color:#007aff;font-weight:700;position:absolute;margin-left:-1em}.markdown-content.user .markdown-ul .markdown-li:before{color:#ffffffb3}.markdown-ol{counter-reset:ol-counter}.markdown-ol .markdown-li{counter-increment:ol-counter;position:relative}.markdown-ol .markdown-li:before{content:counter(ol-counter) ".";color:#007aff;font-weight:600;position:absolute;margin-left:-1.5em;width:1.2em;text-align:right}.markdown-content.user .markdown-ol .markdown-li:before{color:#ffffffb3}.markdown-blockquote{margin:1em 0;padding:.5em 1em;border-left:4px solid #007AFF;background:#f8f9fa;font-style:italic;color:#6c757d}.markdown-content.user .markdown-blockquote{background:#ffffff1a;border-left-color:#ffffff80;color:#fffc}.markdown-blockquote p:last-child{margin-bottom:0}.table-wrapper{margin:1em 0;overflow-x:auto;border-radius:8px;border:1px solid #e9ecef}.markdown-table{width:100%;border-collapse:collapse;font-size:.85em}.markdown-table th,.markdown-table td{padding:.75em 1em;text-align:left;border-bottom:1px solid #e9ecef}.markdown-table th{background:#f8f9fa;font-weight:600;color:#495057}.markdown-table tr:last-child td{border-bottom:none}.markdown-content.user .table-wrapper{border-color:#fff3}.markdown-content.user .markdown-table th{background:#ffffff1a;color:#ffffffe6}.markdown-content.user .markdown-table th,.markdown-content.user .markdown-table td{border-bottom-color:#fff3}.markdown-content hr{margin:2em 0;border:none;height:1px;background:#e9ecef}.markdown-content.user hr{background:#ffffff4d}.markdown-content strong{font-weight:600}.markdown-content em{font-style:italic}@media (max-width: 768px){.markdown-content{font-size:13px}.code-content{font-size:.8em;padding:.75rem}.markdown-ul,.markdown-ol{padding-left:1.2em}.markdown-table{font-size:.8em}.markdown-table th,.markdown-table td{padding:.5em .75em}}.chat-history-overlay{position:fixed;inset:0;background:#000000b3;display:flex;align-items:center;justify-content:center;z-index:10000;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px)}.chat-history-manager{background:#fff;border-radius:16px;width:90%;max-width:600px;max-height:90vh;overflow:hidden;box-shadow:0 20px 40px #0003;animation:slideIn .3s ease-out}@keyframes slideIn{0%{opacity:0;transform:translateY(-20px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}.chat-history-header{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;padding:1.5rem;display:flex;justify-content:space-between;align-items:center}.chat-history-header h3{margin:0;font-size:1.25rem;font-weight:600}.close-btn{background:none;border:none;color:#fff;cursor:pointer;padding:.5rem;border-radius:50%;display:flex;align-items:center;justify-content:center;transition:background-color .2s}.close-btn:hover{background:#fff3}.chat-history-content{padding:1.5rem;max-height:calc(90vh - 100px);overflow-y:auto}.chat-stats{margin-bottom:2rem;padding:1rem;background:#f8f9fa;border-radius:12px;border-left:4px solid #667eea}.chat-stats h4{margin:0 0 1rem;color:#333;font-size:1rem;display:flex;align-items:center;gap:.5rem}.stats-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(120px,1fr));gap:1rem;margin-bottom:1rem}.stat-item{display:flex;align-items:center;gap:.75rem;padding:.75rem;background:#fff;border-radius:8px;border:1px solid #e9ecef}.stat-item svg{color:#667eea;flex-shrink:0}.stat-item div{display:flex;flex-direction:column}.stat-value{font-size:1.25rem;font-weight:600;color:#333;line-height:1}.stat-label{font-size:.75rem;color:#6c757d;margin-top:.25rem}.date-info{display:flex;align-items:center;gap:.5rem;font-size:.85rem;color:#6c757d;padding:.5rem;background:#fff;border-radius:6px}.date-info svg{color:#667eea}.chat-actions{margin-bottom:2rem}.chat-actions h4{margin:0 0 1rem;color:#333;font-size:1rem}.action-buttons{display:grid;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));gap:1rem}.action-btn{display:flex;align-items:center;justify-content:center;gap:.5rem;padding:.875rem 1rem;border:none;border-radius:8px;font-weight:500;cursor:pointer;transition:all .2s;font-size:.9rem}.action-btn:disabled{opacity:.5;cursor:not-allowed;transform:none!important}.action-btn.export{background:linear-gradient(135deg,#28a745,#20c997);color:#fff}.action-btn.export:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 4px 12px #28a74566}.action-btn.import{background:linear-gradient(135deg,#007bff,#0056b3);color:#fff}.action-btn.import:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 4px 12px #007bff66}.action-btn.clear{background:linear-gradient(135deg,#dc3545,#c82333);color:#fff}.action-btn.clear:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 4px 12px #dc354566}.result-message{padding:1rem;border-radius:8px;margin-bottom:1.5rem;font-weight:500}.result-message.success{background:#d4edda;color:#155724;border-left:4px solid #28a745}.result-message.error{background:#f8d7da;color:#721c24;border-left:4px solid #dc3545}.instructions{background:#e7f3ff;padding:1rem;border-radius:8px;border-left:4px solid #007bff}.instructions h4{margin:0 0 .75rem;color:#333;font-size:1rem}.instructions ul{margin:0;padding-left:1.25rem}.instructions li{margin-bottom:.5rem;font-size:.9rem;color:#495057;line-height:1.4}.instructions li:last-child{margin-bottom:0}.instructions strong{color:#007bff;font-weight:600}.chat-history-content::-webkit-scrollbar{width:6px}.chat-history-content::-webkit-scrollbar-track{background:#f1f1f1;border-radius:3px}.chat-history-content::-webkit-scrollbar-thumb{background:#c1c1c1;border-radius:3px}.chat-history-content::-webkit-scrollbar-thumb:hover{background:#a8a8a8}@media (max-width: 768px){.chat-history-manager{width:95%;margin:1rem}.stats-grid{grid-template-columns:repeat(2,1fr)}.action-buttons{grid-template-columns:1fr}.chat-history-header,.chat-history-content{padding:1rem}.stat-item{padding:.5rem}.stat-value{font-size:1.1rem}}.chat-container{display:flex;flex-direction:column;height:100vh;height:100dvh;height:calc(var(--vh, 1vh) * 100);background-color:#f2f2f7;position:relative;overflow:hidden}.chat-header{display:flex;align-items:center;justify-content:space-between;padding:16px 20px;background:#fff;border-bottom:1px solid #E5E5E7;box-shadow:0 1px 3px #0000001a;position:relative}.user-info{display:flex;align-items:center;gap:12px}.user-avatar{width:40px;height:40px;border-radius:50%;background:linear-gradient(135deg,#007aff,#5856d6);display:flex;align-items:center;justify-content:center;color:#fff}.user-details h3{font-size:16px;font-weight:600;color:#1a1a1a;margin:0}.user-role{font-size:12px;color:#8e8e93}.header-actions{position:relative}.btn-icon{width:40px;height:40px;border:none;background:transparent;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;color:#8e8e93;transition:all .2s ease}.btn-icon:hover{background-color:#f2f2f7;color:#007aff}.user-menu{position:absolute;top:100%;right:0;background:#fff;border-radius:12px;box-shadow:0 4px 20px #00000026;padding:8px;min-width:150px;z-index:100;animation:slideDown .2s ease-out}@keyframes slideDown{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.menu-item{display:flex;align-items:center;gap:8px;width:100%;padding:12px;border:none;background:transparent;border-radius:8px;font-size:14px;color:#1a1a1a;cursor:pointer;transition:background-color .2s ease}.menu-item:hover{background-color:#f2f2f7}.menu-item.logout{color:#ff3b30}.messages-container{flex:1;overflow-y:auto;padding:20px;display:flex;flex-direction:column;min-height:0;padding-bottom:calc(20px + env(safe-area-inset-bottom))}.empty-chat{flex:1;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;color:#8e8e93}.empty-icon{width:80px;height:80px;border-radius:50%;background:linear-gradient(135deg,#007aff,#5856d6);display:flex;align-items:center;justify-content:center;color:#fff;margin-bottom:20px}.empty-chat h3{color:#1a1a1a;margin-bottom:8px;font-size:20px}.empty-chat p{max-width:280px;line-height:1.5}.messages-list{display:flex;flex-direction:column;gap:16px}.message{display:flex;gap:12px;align-items:flex-start;animation:messageSlideIn .3s ease-out}@keyframes messageSlideIn{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.user-message{flex-direction:row-reverse}.message-avatar{width:32px;height:32px;border-radius:50%;display:flex;align-items:center;justify-content:center;color:#fff;flex-shrink:0;margin-top:4px}.user-message .message-avatar{background:linear-gradient(135deg,#34c759,#30d158)}.ai-message .message-avatar{background:linear-gradient(135deg,#007aff,#5856d6)}.message-content{flex:1;max-width:70%}.user-message .message-content{display:flex;flex-direction:column;align-items:flex-end}.message-bubble{background:#fff;padding:12px 16px;border-radius:18px;box-shadow:0 1px 2px #0000001a;word-wrap:break-word;position:relative}.user-message .message-bubble{background:linear-gradient(135deg,#007aff,#5856d6);color:#fff;border-bottom-right-radius:4px}.ai-message .message-bubble{border-bottom-left-radius:4px}.error-message .message-bubble{background:#fff5f5;border:1px solid #FFE5E5;color:#ff3b30}.message-bubble p{margin:0;line-height:1.4;font-size:15px}.message-bubble .markdown-content{font-size:15px}.message-bubble .markdown-content .markdown-p{margin:0 0 .8em}.message-bubble .markdown-content .markdown-p:last-child{margin-bottom:0}.message.loading .message-bubble{background:linear-gradient(135deg,#e3f2fd,#bbdefb);border:1px solid #90CAF9;position:relative;overflow:hidden}.message.loading .message-bubble:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.4),transparent);animation:shimmer 1.5s infinite}.message.loading .message-content{color:#1976d2;font-style:italic;display:flex;align-items:center;gap:8px}.message.loading .message-content:after{content:"";width:8px;height:8px;border-radius:50%;background:#1976d2;animation:pulse 1s infinite}@keyframes shimmer{0%{left:-100%}to{left:100%}}@keyframes pulse{0%,to{opacity:1;transform:scale(1)}50%{opacity:.5;transform:scale(.8)}}.message-time{font-size:11px;color:#8e8e93;margin-top:4px;padding:0 4px}.message-attachments{margin-top:8px;display:flex;flex-direction:column;gap:8px}.attachment-preview{border-radius:8px;overflow:hidden}.attachment-image{max-width:200px;max-height:200px;border-radius:8px;cursor:pointer}.attachment-file{display:flex;align-items:center;gap:8px;padding:8px 12px;background:#ffffff1a;border-radius:8px;font-size:13px}.typing{background:#f0f0f0!important;color:#8e8e93!important}.typing-indicator{display:flex;gap:4px;align-items:center}.typing-indicator span{width:6px;height:6px;border-radius:50%;background-color:#8e8e93;animation:typing 1.4s infinite ease-in-out}.typing-indicator span:nth-child(2){animation-delay:.2s}.typing-indicator span:nth-child(3){animation-delay:.4s}@keyframes typing{0%,80%,to{opacity:.3;transform:scale(.8)}40%{opacity:1;transform:scale(1)}}.input-area{background:#fff;border-top:1px solid #E5E5E7;padding:16px 20px;position:sticky;bottom:0;z-index:10;padding-bottom:calc(16px + env(safe-area-inset-bottom))}.attachments-preview{display:flex;gap:12px;margin-bottom:16px;flex-wrap:wrap;padding:12px;background:#f8f9fa;border-radius:12px;border:1px dashed #E5E5E7;animation:slideDown .3s ease-out}.attachment-item{position:relative;border-radius:12px;overflow:hidden;background:#fff;box-shadow:0 2px 8px #0000001a;transition:transform .2s ease;animation:attachmentSlideIn .3s ease-out}.attachment-item:hover{transform:translateY(-2px);box-shadow:0 4px 12px #00000026}.attachment-thumbnail{width:80px;height:80px;object-fit:cover;display:block}.file-attachment{display:flex;align-items:center;gap:12px;padding:16px;min-width:180px}.file-attachment .lucide{color:#007aff;flex-shrink:0}.file-info{display:flex;flex-direction:column;gap:4px;flex:1;min-width:0}.file-name{font-size:13px;color:#1a1a1a;font-weight:500;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;line-height:1.2}.file-size{font-size:11px;color:#8e8e93;font-weight:400}.remove-attachment{position:absolute;top:6px;right:6px;width:24px;height:24px;border:none;background:#000000b3;color:#fff;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;font-size:12px;transition:all .2s ease;opacity:0}.attachment-item:hover .remove-attachment{opacity:1}.remove-attachment:hover{background:#ff3b30;transform:scale(1.1)}.input-container{display:flex;align-items:flex-end;gap:12px;background:#f8f9fa;border-radius:24px;padding:8px}.attach-menu{position:relative}.btn-attach{width:40px;height:40px;border:none;background:transparent;color:#8e8e93;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease}.btn-attach:hover{background-color:#e5e5e7;color:#007aff}.attach-dropdown{position:absolute;bottom:100%;left:0;background:#fff;border-radius:12px;box-shadow:0 4px 20px #00000026;padding:8px;margin-bottom:8px;min-width:120px;animation:slideUp .2s ease-out}@keyframes slideUp{0%{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.attach-option{display:flex;align-items:center;gap:8px;width:100%;padding:12px;border:none;background:transparent;border-radius:8px;font-size:14px;color:#1a1a1a;cursor:pointer;transition:background-color .2s ease}.attach-option:hover:not(:disabled){background-color:#f2f2f7}.attach-option:disabled{opacity:.5;cursor:not-allowed}.attach-divider{height:1px;background:#e5e5e7;margin:8px 12px}.attach-help{padding:8px 12px;text-align:center}.attach-help small{color:#8e8e93;font-size:11px}.message-input{flex:1;border:none;background:transparent;font-size:16px;padding:12px 16px;resize:none;outline:none;max-height:120px;line-height:1.4;font-family:inherit}.message-input::placeholder{color:#8e8e93}.btn-send{width:40px;height:40px;border:none;background:linear-gradient(135deg,#007aff,#5856d6);color:#fff;border-radius:50%;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .2s ease;box-shadow:0 2px 8px #007aff4d}.btn-send:hover:not(:disabled){transform:scale(1.05);box-shadow:0 4px 12px #007aff66}.btn-send:disabled{opacity:.5;cursor:not-allowed;transform:none}@media (max-width: 480px){.chat-container{height:100vh;height:100dvh;height:-webkit-fill-available}.chat-header{padding:12px 16px;padding-top:calc(12px + env(safe-area-inset-top))}.messages-container{padding:16px;padding-bottom:calc(16px + env(safe-area-inset-bottom))}.message-content{max-width:85%}.input-area{padding:12px 16px;padding-bottom:calc(12px + env(safe-area-inset-bottom));position:sticky;bottom:0;background:#fff;border-top:1px solid #E5E5E7}.message-input{font-size:16px;-webkit-appearance:none;appearance:none;border-radius:0}.attachment-image{max-width:150px;max-height:150px}.attachments-preview{padding:8px;gap:8px}.attachment-thumbnail{width:60px;height:60px}.file-attachment{padding:12px;min-width:150px}.attach-dropdown{min-width:140px}.toast{max-width:250px;font-size:13px;padding:10px 16px}}.messages-container::-webkit-scrollbar{width:4px}.messages-container::-webkit-scrollbar-track{background:transparent}.messages-container::-webkit-scrollbar-thumb{background:#e5e5e7;border-radius:2px}.messages-container::-webkit-scrollbar-thumb:hover{background:#d1d1d6}@keyframes attachmentSlideIn{0%{opacity:0;transform:translateY(-10px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}@keyframes slideDown{0%{opacity:0;transform:translateY(-10px);max-height:0}to{opacity:1;transform:translateY(0);max-height:200px}}.toast{position:fixed;top:90px;left:50%;transform:translate(-50%);padding:12px 20px;border-radius:25px;color:#fff;font-size:14px;font-weight:500;z-index:1000;animation:toastSlideIn .3s ease-out;box-shadow:0 4px 12px #00000026;max-width:300px;text-align:center}.toast.success{background:linear-gradient(135deg,#34c759,#30d158)}.toast.error{background:linear-gradient(135deg,#ff3b30,#ff2d20)}@keyframes toastSlideIn{0%{opacity:0;transform:translate(-50%) translateY(-20px)}to{opacity:1;transform:translate(-50%) translateY(0)}}@supports (-webkit-touch-callout: none){.chat-container{height:-webkit-fill-available;height:calc(var(--vh, 1vh) * 100)}.input-area{position:fixed;bottom:0;left:0;right:0;z-index:1000;background:#fff;border-top:1px solid #E5E5E7;padding-bottom:max(env(safe-area-inset-bottom),16px);box-shadow:0 -2px 10px #0000001a}.messages-container{padding-bottom:140px;margin-bottom:env(safe-area-inset-bottom)}.message-input:focus{transform:translateY(0);transition:transform .3s ease}}@media screen and (max-device-width: 480px){.chat-container{position:fixed;inset:0;overflow:hidden}.input-area{transition:transform .3s ease,padding-bottom .3s ease}.message-input{font-size:16px!important;-webkit-user-select:text;user-select:text}}.app{min-height:100vh;font-family:Inter,-apple-system,BlinkMacSystemFont,sans-serif}.loading-container{min-height:100vh;display:flex;align-items:center;justify-content:center;background-color:#f2f2f7}.loading-spinner{display:flex;flex-direction:column;align-items:center;gap:16px}.loading-spinner p{color:#8e8e93;font-size:14px;margin:0}@media (max-width: 768px){.app{overflow-x:hidden}}.visually-hidden{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
